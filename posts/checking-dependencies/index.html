<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Checking dependencies for security vulnerabilities | Tom Beckett</title>
<meta name=keywords content="java,security,maven,owasp">
<meta name=description content="A security vulnerability is a nightmare scenario. In my Spring: Security Hardening guide I explain that static code analysis can check your code for common security mistakes. But that raises another question - what about other people&rsquo;s code?
When you consider that your code is actually a fraction of the deployed artifact it gets really scary.
Luckily for us, there is a variety of automation we can deploy to cover this scenario.">
<meta name=author content="Tom Beckett">
<link rel=canonical href=https://tombeckett.github.io/posts/checking-dependencies/>
<meta name=google-site-verification content="XYZabc">
<meta name=yandex-verification content="XYZabc">
<meta name=msvalidate.01 content="XYZabc">
<link crossorigin=anonymous href=/assets/css/stylesheet.min.612a587c75dbaa6349d632572927d1b3e50ae108eaa982ebbc7782882e385faf.css integrity="sha256-YSpYfHXbqmNJ1jJXKSfRs+UK4QjqqYLrvHeCiC44X68=" rel="preload stylesheet" as=style>
<link rel=icon href=https://tombeckett.github.io/%3Clink%20/%20abs%20url%3E>
<link rel=icon type=image/png sizes=16x16 href=https://tombeckett.github.io/%3Clink%20/%20abs%20url%3E>
<link rel=icon type=image/png sizes=32x32 href=https://tombeckett.github.io/%3Clink%20/%20abs%20url%3E>
<link rel=apple-touch-icon href=https://tombeckett.github.io/%3Clink%20/%20abs%20url%3E>
<link rel=mask-icon href=https://tombeckett.github.io/%3Clink%20/%20abs%20url%3E>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.91.2">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-123-45','auto'),ga('send','pageview'))</script><meta property="og:title" content="Checking dependencies for security vulnerabilities">
<meta property="og:description" content="A security vulnerability is a nightmare scenario. In my Spring: Security Hardening guide I explain that static code analysis can check your code for common security mistakes. But that raises another question - what about other people&rsquo;s code?
When you consider that your code is actually a fraction of the deployed artifact it gets really scary.
Luckily for us, there is a variety of automation we can deploy to cover this scenario.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://tombeckett.github.io/posts/checking-dependencies/"><meta property="og:image" content="https://tombeckett.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2022-01-03T01:00:00+00:00">
<meta property="article:modified_time" content="2022-01-03T01:00:00+00:00"><meta property="og:site_name" content="Tom Beckett">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://tombeckett.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E">
<meta name=twitter:title content="Checking dependencies for security vulnerabilities">
<meta name=twitter:description content="A security vulnerability is a nightmare scenario. In my Spring: Security Hardening guide I explain that static code analysis can check your code for common security mistakes. But that raises another question - what about other people&rsquo;s code?
When you consider that your code is actually a fraction of the deployed artifact it gets really scary.
Luckily for us, there is a variety of automation we can deploy to cover this scenario.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://tombeckett.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Checking dependencies for security vulnerabilities","item":"https://tombeckett.github.io/posts/checking-dependencies/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Checking dependencies for security vulnerabilities","name":"Checking dependencies for security vulnerabilities","description":"A security vulnerability is a nightmare scenario. In my Spring: Security Hardening guide I explain that static code analysis can check your code for common security mistakes. But that raises another question - what about other people\u0026rsquo;s code?\nWhen you consider that your code is actually a fraction of the deployed artifact it gets really scary.\nLuckily for us, there is a variety of automation we can deploy to cover this scenario.","keywords":["java","security","maven","owasp"],"articleBody":"A security vulnerability is a nightmare scenario. In my Spring: Security Hardening guide I explain that static code analysis can check your code for common security mistakes. But that raises another question - what about other people‚Äôs code?\nWhen you consider that your code is actually a fraction of the deployed artifact it gets really scary.\nLuckily for us, there is a variety of automation we can deploy to cover this scenario.\nIn this article I‚Äôm going to demonstrate integrating OWASP Dependency Check using Maven but it‚Äôs important to understand what makes a dependency checker successful.\nSecurity context matters The OWASP Dependency Check website describes the tool as:\n ‚Ä¶a Software Composition Analysis (SCA) tool that attempts to detect publicly disclosed vulnerabilities contained within a project‚Äôs dependencies. It does this by determining if there is a Common Platform Enumeration (CPE) identifier for a given dependency. If found, it will generate a report linking to the associated CVE entries.\n You may think - ‚ÄúWell, this sounds like npm audit?\". And, I agree, kind of. The approach npm audit takes is a common one but to quote Dan Abramov - it‚Äôs Broken by Design.\nWhy? Well in summary, if a dependency is vulnerable, npm audit says every other library using that dependency must also be vulnerable. This seems logical.\nHowever as Dan demonstrates, many flagged CVE‚Äôs only occur at runtime despite the Create React App only producing static files - therefore having no runtime itself. These false positives cause a huge amount of confusion and administrative burden.\nBecause of this typical ‚Äòall or nothing‚Äô approach, after a few build failures developers typically turn them off or ignore them entirely. Not what you want for a security tool.\n A vulnerability often requires a certain condition. If you or your library avoids that condition, your dependency is not vulnerable.\n The tool you choose must be ready to handle false positives. I would argue scanning docker files or npm audit fails in this aspect as there is no way to suppress a false positive and reporting completely ignores context.\nThe wishlist Regardless of technology stack I would say we‚Äôre looking for a tool that must:\n Run using the command line to allow continuous integration. Produce a report with detailed information on how the vulnerability affects the exact dependency in what context. Allow the CVE to be suppressed (ideally by minor version, SHA1, etc) with comments to future revisit.  Integrating OWASP Dependency-Check Add the following to your pom.xml as a Maven Plugin:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24   org.owasp dependency-check-maven 6.5.1   8  true  false false false  owasp-suppressions.xml     check       While there is a wide a variety of configuration options available to the maven plugin, I want to highlight a few:\n Line 7: We will fail any builds which have a high risk vulnerability. Line 9: We only care about dependencies directly bundled. Lines 11-13: We completely disable Microsoft DotNet as we‚Äôre only using Java. I‚Äôm unsure why this is not default but it will remove a warning. Line 15: We‚Äôve provided an additional configuration file to suppress any false positives.  Lets quickly create a suppression file named owasp-suppressions.xml in the root of the project with the following contents:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48    xmlns=\"https://jeremylong.github.io/DependencyCheck/dependency-suppression.1.3.xsd\"   file name: netty-tcnative-classes-2.0.46.Final.jar ]] 9937a832d9c19861822d345b48ced388b645aa5f CVE-2014-3488 CVE-2015-2156 CVE-2019-16869 CVE-2019-20444 CVE-2019-20445 CVE-2021-21290 CVE-2021-21295 CVE-2021-21409 CVE-2021-37136 CVE-2021-37137 CVE-2021-43797    file name: h2-1.4.200.jar ]] f7533fe7cb8e99c87a43d325a77b4b678ad9031a CVE-2021-23463    file name: flyway-mysql-8.3.0.jar ]] 2c9fffc16febc8999205b85f1def5b2427cdf42e CVE-2007-1420 CVE-2007-2691 CVE-2007-5925 CVE-2009-0819 CVE-2009-4028 CVE-2010-1621 CVE-2010-1626 CVE-2010-3677 CVE-2010-3682 CVE-2012-5627 CVE-2015-2575 CVE-2017-15945     I want to highlight a few parts of the configuration schema:\n Lines 3, 21 \u0026 29: We‚Äôve provided a comment on why we believe this to be a false flag. This could also be provided in the  tag, but I try to reserve that for the name of the jar. Lines 8, 26 \u0026 34: We‚Äôve provided a unique SHA1 of the jar which contains a vulnerability. This will change over time but I believe this to be a good thing. We want to be re-assessing this list frequently! Lines 9-19, 27 \u0026 35-45: We‚Äôve provided a list of Common Vulnerabilities and Exposure (CVE) numbers to ignore.   Note: There are many other ways to flag a false positives and even false negatives so it‚Äôs worth exploring the documentation.\n Let‚Äôs next talk about why we‚Äôre suppressing these vulnerabilities:\n The netty-tcnative-classes-2.0.46.Final.jar related CVEs appears to be a false positive fixed in a future version. The h2-1.4.200.jar CVE appear to be a vulnerability in the checker itself (oh the irony!) and resolved in a future version. All flyway-mysql-8.3.0.jar CVEs are only present when using MySQL 5. It‚Äôs worth repeating: These are only false positives for our use case. If we were using MySQL 5 they very much apply.  Generating a report Reports will automatically be generated by running mvn verify.\nWhen generating a report the command line output should be similar to:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47  [INFO] Scanning for projects... [INFO] [INFO] ----------------------------------------------------- [INFO] Building api 0.0.1-SNAPSHOT [INFO] --------------------------------[ jar ]--------------------------------- [INFO] [INFO] --- dependency-check-maven:6.5.2:check (default-cli) @ api --- [INFO] Checking for updates [INFO] Skipping NVD check since last check was within 4 hours. [INFO] Skipping RetireJS update since last update was within 24 hours. [INFO] Check for updates complete (147 ms) [INFO] [INFO] Analysis Started [INFO] Finished Archive Analyzer (1 seconds) [INFO] Finished File Name Analyzer (0 seconds) [INFO] Finished Jar Analyzer (1 seconds) [INFO] Finished Dependency Merging Analyzer (0 seconds) [INFO] Finished Version Filter Analyzer (0 seconds) [INFO] Finished Hint Analyzer (0 seconds) [INFO] Created CPE Index (1 seconds) [INFO] Finished CPE Analyzer (5 seconds) [INFO] Finished False Positive Analyzer (0 seconds) [INFO] Finished NVD CVE Analyzer (0 seconds) [INFO] Finished RetireJS Analyzer (1 seconds) [INFO] Finished Sonatype OSS Index Analyzer (0 seconds) [INFO] Finished Vulnerability Suppression Analyzer (0 seconds) [INFO] Finished Dependency Bundling Analyzer (0 seconds) [INFO] Analysis Complete (13 seconds) [INFO] Writing report to: /Users/tombeckett/Documents/workspace/api/target/dependency-check-report.html [WARNING] One or more dependencies were identified with known vulnerabilities in api: flyway-mysql-8.3.0.jar (pkg:maven/org.flywaydb/flyway-mysql@%24%7Bproject.parent.version%7D, pkg:maven/org.flywaydb/flyway-mysql@8.3.0, cpe:2.3:a:mysql:mysql:\\$\\{project.parent.version\\}:*:*:*:*:*:*:*) : CVE-2007-2691 See the dependency-check report for more details. [INFO] ------------------------------------------------------------------------ [INFO] BUILD SUCCESS [INFO] ------------------------------------------------------------------------ [INFO] Total time: 25.149 s [INFO] Finished at: 2022-01-03T21:46:29Z [INFO] ------------------------------------------------------------------------ Process finished with exit code 0   Line 29 mentions ‚ÄúWriting report to: xxxx/api/target/dependency-check-report.html‚Äù which occurs even on build failure.\nOpening this report will look something like:\nThere‚Äôs a wealth of information in this report such as your dependency tree, a list of CVE sources and a list of any vulnerabilities found.\nI should also praise theCopy suppression XML button which can be pasted into our owasp-suppressions.xml file üôèüèª.\nFinishing up This really does only scratch the surface of the OWASP Dependency Check tool but I hope I‚Äôve shown how it meets our requirements above. Since it is command line based, it could easily be integrated into any automated build process.\nChecking your dependencies (and their dependencies) is essential as more and more of our programs depend on others.\nFinally, as a challenge I recommend exploring the configuration options and in particular hints. This allows dependencies to be ‚Äòbanned‚Äô from programmatically only allowing certain versions of a dependency for example Logback over Log4J. Extremely useful for implementing security as code.\n","wordCount":"1364","inLanguage":"en","datePublished":"2022-01-03T01:00:00Z","dateModified":"2022-01-03T01:00:00Z","author":{"@type":"Person","name":"Tom Beckett"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://tombeckett.github.io/posts/checking-dependencies/"},"publisher":{"@type":"Organization","name":"Tom Beckett","logo":{"@type":"ImageObject","url":"https://tombeckett.github.io/%3Clink%20/%20abs%20url%3E"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://tombeckett.github.io/ accesskey=h title="Tom Beckett (Alt + H)">Tom Beckett</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=https://tombeckett.github.io/categories/ title=Categories>
<span>Categories</span>
</a>
</li>
<li>
<a href=https://tombeckett.github.io/tags/ title=Tags>
<span>Tags</span>
</a>
</li>
<li>
<a href=https://tombeckett.github.io/search/ title="Search (Alt + /)" accesskey=/>
<span>Search</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<div class=breadcrumbs><a href=https://tombeckett.github.io/>Home</a>&nbsp;¬ª&nbsp;<a href=https://tombeckett.github.io/posts/>Posts</a></div>
<h1 class=post-title>
Checking dependencies for security vulnerabilities
</h1>
<div class=post-meta><span title="2022-01-03 01:00:00 +0000 UTC">January 3, 2022</span>&nbsp;¬∑&nbsp;7 min&nbsp;¬∑&nbsp;Tom Beckett&nbsp;|&nbsp;<a href=https://github.com/TomBeckett/tombeckett.github.io/tree/main/content/posts/checking-dependencies.md rel="noopener noreferrer" target=_blank>Suggest Changes</a>
</div>
</header>
<div class=post-content><p>A security vulnerability is a nightmare scenario. In my <a href=/posts/spring-security-hardening/>Spring: Security Hardening</a> guide I explain that <a href=https://en.wikipedia.org/wiki/Static_program_analysis>static code analysis</a> can check your code for common security mistakes. But that raises another question - what about other people&rsquo;s code?</p>
<p>When you consider that your code is actually a fraction of the deployed artifact it gets really scary.</p>
<p>Luckily for us, there is a variety of automation we can deploy to cover this scenario.</p>
<p>In this article I&rsquo;m going to demonstrate integrating <a href=https://owasp.org/www-project-dependency-check/>OWASP Dependency Check</a> using Maven but it&rsquo;s important to understand what makes a dependency checker successful.</p>
<h2 id=security-context-matters>Security context matters<a hidden class=anchor aria-hidden=true href=#security-context-matters>#</a></h2>
<p>The <a href=https://owasp.org/www-project-dependency-check/>OWASP Dependency Check</a> website describes the tool as:</p>
<blockquote>
<p>&mldr;a Software Composition Analysis (SCA) tool that attempts to detect publicly disclosed vulnerabilities contained within a project‚Äôs dependencies. It does this by determining if there is a Common Platform Enumeration (CPE) identifier for a given dependency. If found, it will generate a report linking to the associated CVE entries.</p>
</blockquote>
<p>You may think - <em>&ldquo;Well, this sounds like <code>npm audit</code>?"</em>. And, I agree, kind of. The approach <code>npm audit</code> takes is a common one but to quote Dan Abramov - it&rsquo;s <a href=https://overreacted.io/npm-audit-broken-by-design/>Broken by Design</a>.</p>
<p>Why? Well in summary, if a dependency is vulnerable, <code>npm audit</code> says every other library using that dependency <em><strong>must also</strong></em> be vulnerable. This seems logical.</p>
<p>However as Dan demonstrates, many flagged CVE&rsquo;s only occur at runtime despite the <a href=https://reactjs.org/docs/create-a-new-react-app.html>Create React App</a> only producing static files - therefore having no runtime itself. These false positives cause a huge amount of confusion and administrative burden.</p>
<p>Because of this typical &lsquo;all or nothing&rsquo; approach, after a few build failures developers typically turn them off or ignore them entirely. Not what you want for a security tool.</p>
<blockquote>
<p>A vulnerability often requires a certain condition. If you or your library avoids that condition, your dependency is not vulnerable.</p>
</blockquote>
<p>The tool you choose must be ready to handle false positives. I would argue <a href=https://docs.docker.com/engine/scan/>scanning docker files</a> or <code>npm audit</code> fails in this aspect as there is no way to suppress a false positive and reporting completely ignores context.</p>
<h2 id=the-wishlist>The wishlist<a hidden class=anchor aria-hidden=true href=#the-wishlist>#</a></h2>
<p>Regardless of technology stack I would say we&rsquo;re looking for a tool that must:</p>
<ul>
<li>Run using the command line to allow <a href=https://en.wikipedia.org/wiki/Continuous_integration>continuous integration</a>.</li>
<li>Produce a report with detailed information on <em>how</em> the vulnerability affects the exact dependency in <em>what context</em>.</li>
<li>Allow the CVE to be suppressed (ideally by minor version, SHA1, etc) with comments to future revisit.</li>
</ul>
<h2 id=integrating-owasp-dependency-check>Integrating OWASP Dependency-Check<a hidden class=anchor aria-hidden=true href=#integrating-owasp-dependency-check>#</a></h2>
<p>Add the following to your <code>pom.xml</code> as a <a href=https://blogs.oracle.com/developers/post/mastering-maven-adding-plugins>Maven Plugin</a>:</p>
<div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#f92672>&lt;plugin&gt;</span>
    <span style=color:#f92672>&lt;groupId&gt;</span>org.owasp<span style=color:#f92672>&lt;/groupId&gt;</span>
    <span style=color:#f92672>&lt;artifactId&gt;</span>dependency-check-maven<span style=color:#f92672>&lt;/artifactId&gt;</span>
    <span style=color:#f92672>&lt;version&gt;</span>6.5.1<span style=color:#f92672>&lt;/version&gt;</span>
    <span style=color:#f92672>&lt;configuration&gt;</span>
        <span style=color:#75715e>&lt;!-- Fail the build if any CVSS score is greater than 8. --&gt;</span>
        <span style=color:#f92672>&lt;failBuildOnCVSS&gt;</span>8<span style=color:#f92672>&lt;/failBuildOnCVSS&gt;</span>
        <span style=color:#75715e>&lt;!-- Skip artifacts not bundled in distribution (provided scope) --&gt;</span>
        <span style=color:#f92672>&lt;skipProvidedScope&gt;</span>true<span style=color:#f92672>&lt;/skipProvidedScope&gt;</span>
        <span style=color:#75715e>&lt;!-- .Disable Net content--&gt;</span>
        <span style=color:#f92672>&lt;assemblyAnalyzerEnabled&gt;</span>false<span style=color:#f92672>&lt;/assemblyAnalyzerEnabled&gt;</span>
        <span style=color:#f92672>&lt;nugetconfAnalyzerEnabled&gt;</span>false<span style=color:#f92672>&lt;/nugetconfAnalyzerEnabled&gt;</span>
        <span style=color:#f92672>&lt;nuspecAnalyzerEnabled&gt;</span>false<span style=color:#f92672>&lt;/nuspecAnalyzerEnabled&gt;</span>
        <span style=color:#75715e>&lt;!-- Suppress false positives --&gt;</span>
        <span style=color:#f92672>&lt;suppressionFile&gt;</span>owasp-suppressions.xml<span style=color:#f92672>&lt;/suppressionFile&gt;</span>
    <span style=color:#f92672>&lt;/configuration&gt;</span>
    <span style=color:#f92672>&lt;executions&gt;</span>
        <span style=color:#f92672>&lt;execution&gt;</span>
            <span style=color:#f92672>&lt;goals&gt;</span>
                <span style=color:#f92672>&lt;goal&gt;</span>check<span style=color:#f92672>&lt;/goal&gt;</span>
            <span style=color:#f92672>&lt;/goals&gt;</span>
        <span style=color:#f92672>&lt;/execution&gt;</span>
    <span style=color:#f92672>&lt;/executions&gt;</span>
<span style=color:#f92672>&lt;/plugin&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>While there is a wide a variety of <a href=https://jeremylong.github.io/DependencyCheck/dependency-check-maven/configuration.html>configuration options</a> available to the maven plugin, I want to highlight a few:</p>
<ul>
<li><strong>Line 7:</strong> We will fail any builds which have a high risk vulnerability.</li>
<li><strong>Line 9:</strong> We only care about dependencies directly bundled.</li>
<li><strong>Lines 11-13:</strong> We completely disable Microsoft DotNet as we&rsquo;re only using Java. I&rsquo;m unsure why this is not default but it will remove a warning.</li>
<li><strong>Line 15:</strong> We&rsquo;ve provided an additional configuration file to suppress any false positives.</li>
</ul>
<p>Lets quickly create a suppression file named <code>owasp-suppressions.xml</code> in the root of the project with the following contents:</p>
<div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">44
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">45
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">46
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">47
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">48
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#75715e>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span style=color:#f92672>&lt;suppressions</span> <span style=color:#a6e22e>xmlns=</span><span style=color:#e6db74>&#34;https://jeremylong.github.io/DependencyCheck/dependency-suppression.1.3.xsd&#34;</span><span style=color:#f92672>&gt;</span>
    <span style=color:#75715e>&lt;!-- Waiting for dependency-check-maven 6.5.2 --&gt;</span>
    <span style=color:#f92672>&lt;suppress&gt;</span>
       <span style=color:#f92672>&lt;notes&gt;</span><span style=color:#75715e>&lt;![CDATA[
</span><span style=color:#75715e>       file name: netty-tcnative-classes-2.0.46.Final.jar
</span><span style=color:#75715e>       ]]&gt;</span><span style=color:#f92672>&lt;/notes&gt;</span>
       <span style=color:#f92672>&lt;sha1&gt;</span>9937a832d9c19861822d345b48ced388b645aa5f<span style=color:#f92672>&lt;/sha1&gt;</span>
       <span style=color:#f92672>&lt;cve&gt;</span>CVE-2014-3488<span style=color:#f92672>&lt;/cve&gt;</span>
       <span style=color:#f92672>&lt;cve&gt;</span>CVE-2015-2156<span style=color:#f92672>&lt;/cve&gt;</span>
       <span style=color:#f92672>&lt;cve&gt;</span>CVE-2019-16869<span style=color:#f92672>&lt;/cve&gt;</span>
       <span style=color:#f92672>&lt;cve&gt;</span>CVE-2019-20444<span style=color:#f92672>&lt;/cve&gt;</span>
       <span style=color:#f92672>&lt;cve&gt;</span>CVE-2019-20445<span style=color:#f92672>&lt;/cve&gt;</span>
       <span style=color:#f92672>&lt;cve&gt;</span>CVE-2021-21290<span style=color:#f92672>&lt;/cve&gt;</span>
       <span style=color:#f92672>&lt;cve&gt;</span>CVE-2021-21295<span style=color:#f92672>&lt;/cve&gt;</span>
       <span style=color:#f92672>&lt;cve&gt;</span>CVE-2021-21409<span style=color:#f92672>&lt;/cve&gt;</span>
       <span style=color:#f92672>&lt;cve&gt;</span>CVE-2021-37136<span style=color:#f92672>&lt;/cve&gt;</span>
       <span style=color:#f92672>&lt;cve&gt;</span>CVE-2021-37137<span style=color:#f92672>&lt;/cve&gt;</span>
       <span style=color:#f92672>&lt;cve&gt;</span>CVE-2021-43797<span style=color:#f92672>&lt;/cve&gt;</span>
    <span style=color:#f92672>&lt;/suppress&gt;</span>
     <span style=color:#75715e>&lt;!-- Waiting on https://github.com/jeremylong/DependencyCheck/issues/3894 --&gt;</span>
    <span style=color:#f92672>&lt;suppress&gt;</span>
       <span style=color:#f92672>&lt;notes&gt;</span><span style=color:#75715e>&lt;![CDATA[
</span><span style=color:#75715e>       file name: h2-1.4.200.jar
</span><span style=color:#75715e>       ]]&gt;</span><span style=color:#f92672>&lt;/notes&gt;</span>
       <span style=color:#f92672>&lt;sha1&gt;</span>f7533fe7cb8e99c87a43d325a77b4b678ad9031a<span style=color:#f92672>&lt;/sha1&gt;</span>
       <span style=color:#f92672>&lt;cve&gt;</span>CVE-2021-23463<span style=color:#f92672>&lt;/cve&gt;</span>
    <span style=color:#f92672>&lt;/suppress&gt;</span>
    <span style=color:#75715e>&lt;!-- We don&#39;t use MySQL 5 --&gt;</span>
    <span style=color:#f92672>&lt;suppress&gt;</span>
       <span style=color:#f92672>&lt;notes&gt;</span><span style=color:#75715e>&lt;![CDATA[
</span><span style=color:#75715e>       file name: flyway-mysql-8.3.0.jar
</span><span style=color:#75715e>       ]]&gt;</span><span style=color:#f92672>&lt;/notes&gt;</span>
       <span style=color:#f92672>&lt;sha1&gt;</span>2c9fffc16febc8999205b85f1def5b2427cdf42e<span style=color:#f92672>&lt;/sha1&gt;</span>
       <span style=color:#f92672>&lt;cve&gt;</span>CVE-2007-1420<span style=color:#f92672>&lt;/cve&gt;</span>
       <span style=color:#f92672>&lt;cve&gt;</span>CVE-2007-2691<span style=color:#f92672>&lt;/cve&gt;</span>
       <span style=color:#f92672>&lt;cve&gt;</span>CVE-2007-5925<span style=color:#f92672>&lt;/cve&gt;</span>
       <span style=color:#f92672>&lt;cve&gt;</span>CVE-2009-0819<span style=color:#f92672>&lt;/cve&gt;</span>
       <span style=color:#f92672>&lt;cve&gt;</span>CVE-2009-4028<span style=color:#f92672>&lt;/cve&gt;</span>
       <span style=color:#f92672>&lt;cve&gt;</span>CVE-2010-1621<span style=color:#f92672>&lt;/cve&gt;</span>
       <span style=color:#f92672>&lt;cve&gt;</span>CVE-2010-1626<span style=color:#f92672>&lt;/cve&gt;</span>
       <span style=color:#f92672>&lt;cve&gt;</span>CVE-2010-3677<span style=color:#f92672>&lt;/cve&gt;</span>
       <span style=color:#f92672>&lt;cve&gt;</span>CVE-2010-3682<span style=color:#f92672>&lt;/cve&gt;</span>
       <span style=color:#f92672>&lt;cve&gt;</span>CVE-2012-5627<span style=color:#f92672>&lt;/cve&gt;</span>
       <span style=color:#f92672>&lt;cve&gt;</span>CVE-2015-2575<span style=color:#f92672>&lt;/cve&gt;</span>
       <span style=color:#f92672>&lt;cve&gt;</span>CVE-2017-15945<span style=color:#f92672>&lt;/cve&gt;</span>
    <span style=color:#f92672>&lt;/suppress&gt;</span>
<span style=color:#f92672>&lt;/suppressions&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>I want to highlight a few parts of the configuration schema:</p>
<ul>
<li><strong>Lines 3, 21 & 29:</strong> We&rsquo;ve provided a comment on why we believe this to be a false flag. This could also be provided in the <code>&lt;notes></code> tag, but I try to reserve that for the name of the jar.</li>
<li><strong>Lines 8, 26 & 34:</strong> We&rsquo;ve provided a unique SHA1 of the jar which contains a vulnerability. This will change over time but I believe this to be a good thing. We want to be re-assessing this list frequently!</li>
<li><strong>Lines 9-19, 27 & 35-45:</strong> We&rsquo;ve provided a list of <a href=https://cve.mitre.org/cve/>Common Vulnerabilities and Exposure (CVE)</a> numbers to ignore.</li>
</ul>
<blockquote>
<p>Note: There are <em>many</em> other ways to flag a <a href=https://jeremylong.github.io/DependencyCheck/general/suppression.html>false positives</a> and even <a href=https://jeremylong.github.io/DependencyCheck/general/hints.html>false negatives</a> so it&rsquo;s worth exploring the documentation.</p>
</blockquote>
<p>Let&rsquo;s next talk about why we&rsquo;re suppressing these vulnerabilities:</p>
<ol>
<li>The <code>netty-tcnative-classes-2.0.46.Final.jar</code> related CVEs appears to be a false positive fixed in a <a href=https://github.com/jeremylong/DependencyCheck/issues/3865>future version</a>.</li>
<li>The <code>h2-1.4.200.jar</code> CVE appear to be a vulnerability in the checker itself <em>(oh the irony!)</em> and resolved in a <a href=https://github.com/jeremylong/DependencyCheck/pull/3928>future version</a>.</li>
<li>All <code>flyway-mysql-8.3.0.jar</code> CVEs are only present when using MySQL 5. It&rsquo;s worth repeating: <em>These are only false positives for our use case. If we were using MySQL 5 they very much apply</em>.</li>
</ol>
<h3 id=generating-a-report>Generating a report<a hidden class=anchor aria-hidden=true href=#generating-a-report>#</a></h3>
<p>Reports will automatically be generated by running <code>mvn verify</code>.</p>
<p><a href=https://jeremylong.github.io/DependencyCheck/general/thereport.html>When generating a report</a> the command line output should be similar to:</p>
<div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">44
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">45
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">46
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">47
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> Scanning <span style=color:#66d9ef>for</span> projects...
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> 
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> --------------------------&lt; app.squaddy:api &gt;---------------------------
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> Building api 0.0.1-SNAPSHOT
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> --------------------------------<span style=color:#f92672>[</span> jar <span style=color:#f92672>]</span>---------------------------------
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> 
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> --- dependency-check-maven:6.5.2:check <span style=color:#f92672>(</span>default-cli<span style=color:#f92672>)</span> @ api ---
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> Checking <span style=color:#66d9ef>for</span> updates
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> Skipping NVD check since last check was within <span style=color:#ae81ff>4</span> hours.
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> Skipping RetireJS update since last update was within <span style=color:#ae81ff>24</span> hours.
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> Check <span style=color:#66d9ef>for</span> updates complete <span style=color:#f92672>(</span><span style=color:#ae81ff>147</span> ms<span style=color:#f92672>)</span>
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> 
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> Analysis Started
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> Finished Archive Analyzer <span style=color:#f92672>(</span><span style=color:#ae81ff>1</span> seconds<span style=color:#f92672>)</span>
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> Finished File Name Analyzer <span style=color:#f92672>(</span><span style=color:#ae81ff>0</span> seconds<span style=color:#f92672>)</span>
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> Finished Jar Analyzer <span style=color:#f92672>(</span><span style=color:#ae81ff>1</span> seconds<span style=color:#f92672>)</span>
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> Finished Dependency Merging Analyzer <span style=color:#f92672>(</span><span style=color:#ae81ff>0</span> seconds<span style=color:#f92672>)</span>
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> Finished Version Filter Analyzer <span style=color:#f92672>(</span><span style=color:#ae81ff>0</span> seconds<span style=color:#f92672>)</span>
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> Finished Hint Analyzer <span style=color:#f92672>(</span><span style=color:#ae81ff>0</span> seconds<span style=color:#f92672>)</span>
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> Created CPE Index <span style=color:#f92672>(</span><span style=color:#ae81ff>1</span> seconds<span style=color:#f92672>)</span>
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> Finished CPE Analyzer <span style=color:#f92672>(</span><span style=color:#ae81ff>5</span> seconds<span style=color:#f92672>)</span>
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> Finished False Positive Analyzer <span style=color:#f92672>(</span><span style=color:#ae81ff>0</span> seconds<span style=color:#f92672>)</span>
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> Finished NVD CVE Analyzer <span style=color:#f92672>(</span><span style=color:#ae81ff>0</span> seconds<span style=color:#f92672>)</span>
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> Finished RetireJS Analyzer <span style=color:#f92672>(</span><span style=color:#ae81ff>1</span> seconds<span style=color:#f92672>)</span>
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> Finished Sonatype OSS Index Analyzer <span style=color:#f92672>(</span><span style=color:#ae81ff>0</span> seconds<span style=color:#f92672>)</span>
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> Finished Vulnerability Suppression Analyzer <span style=color:#f92672>(</span><span style=color:#ae81ff>0</span> seconds<span style=color:#f92672>)</span>
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> Finished Dependency Bundling Analyzer <span style=color:#f92672>(</span><span style=color:#ae81ff>0</span> seconds<span style=color:#f92672>)</span>
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> Analysis Complete <span style=color:#f92672>(</span><span style=color:#ae81ff>13</span> seconds<span style=color:#f92672>)</span>
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> Writing report to: /Users/tombeckett/Documents/workspace/api/target/dependency-check-report.html
<span style=color:#f92672>[</span>WARNING<span style=color:#f92672>]</span> 

One or more dependencies were identified with known vulnerabilities in api:

flyway-mysql-8.3.0.jar <span style=color:#f92672>(</span>pkg:maven/org.flywaydb/flyway-mysql@%24%7Bproject.parent.version%7D, pkg:maven/org.flywaydb/flyway-mysql@8.3.0, cpe:2.3:a:mysql:mysql:<span style=color:#ae81ff>\$\{</span>project.parent.version<span style=color:#ae81ff>\}</span>:*:*:*:*:*:*:*<span style=color:#f92672>)</span> : CVE-2007-2691


See the dependency-check report <span style=color:#66d9ef>for</span> more details.


<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> ------------------------------------------------------------------------
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> BUILD SUCCESS
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> ------------------------------------------------------------------------
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> Total time:  25.149 s
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> Finished at: 2022-01-03T21:46:29Z
<span style=color:#f92672>[</span>INFO<span style=color:#f92672>]</span> ------------------------------------------------------------------------

Process finished with exit code <span style=color:#ae81ff>0</span>
</code></pre></td></tr></table>
</div>
</div><p><strong>Line 29</strong> mentions <em>&ldquo;Writing report to: xxxx/api/target/dependency-check-report.html&rdquo;</em> which occurs even on build failure.</p>
<p>Opening this report will look something like:</p>
<p><img loading=lazy src=/images/posts/checking-dependencies/dependency-check-report.png alt="Dependency-Check Report">
</p>
<p>There&rsquo;s a wealth of information in this report such as your dependency tree, a list of CVE sources and a list of any vulnerabilities found.</p>
<p>I should also praise the<code>Copy suppression XML</code> button which can be pasted into our <code>owasp-suppressions.xml</code> file üôèüèª.</p>
<h2 id=finishing-up>Finishing up<a hidden class=anchor aria-hidden=true href=#finishing-up>#</a></h2>
<p>This really does only scratch the surface of the <a href=https://owasp.org/www-project-dependency-check/>OWASP Dependency Check</a> tool but I hope I&rsquo;ve shown how it meets our requirements above. Since it is command line based, it could easily be integrated into any automated build process.</p>
<p>Checking your dependencies (and their dependencies) is essential as more and more of our programs depend on others.</p>
<p>Finally, as a challenge I recommend exploring the <a href=https://jeremylong.github.io/DependencyCheck/dependency-check-maven/configuration.html>configuration options</a> and in particular <a href=https://jeremylong.github.io/DependencyCheck/general/hints.html>hints</a>. This allows dependencies to be &lsquo;banned&rsquo; from programmatically only allowing certain versions of a dependency for example Logback over Log4J. Extremely useful for implementing <a href=https://www.bmc.com/blogs/security-as-code/>security as code</a>.</p>
</div>
<footer class=post-footer>
<ul class=post-tags>
<li><a href=https://tombeckett.github.io/tags/java/>java</a></li>
<li><a href=https://tombeckett.github.io/tags/security/>security</a></li>
<li><a href=https://tombeckett.github.io/tags/maven/>maven</a></li>
<li><a href=https://tombeckett.github.io/tags/owasp/>owasp</a></li>
</ul>
<nav class=paginav>
<a class=next href=https://tombeckett.github.io/posts/skip-source-read-comments/>
<span class=title>Next Page ¬ª</span>
<br>
<span>Skip the source, straight to the comments</span>
</a>
</nav>
</footer>
</article>
</main>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>